# MapStack 要件定義書

---
title: 要件定義書
importance: high
last_updated: 2025-04-04
for_ai_assistant: このドキュメントはMapStackの具体的な機能要件と非機能要件を定義しています。実装時には、ここで定義されたユースケースと要件を満たすようにしてください。
---

## 機能要件（ユースケース別）

### 1. ユーザー管理

#### UC1.1: ユーザー登録とオンボーディング
- **アクター**: 未登録ユーザー
- **概要**: ユーザーがシステムに初めて登録し、初期設定を行う
- **前提条件**: なし
- **基本フロー**:
  1. ユーザーがメールアドレスまたはSNSアカウントで登録
  2. 興味のある学習分野に関する初期アンケートに回答
  3. 現在のスキルレベルの自己評価を行う
  4. システムが推奨するロードマップの提案を受ける
  5. 学習目標と予定時間の設定
- **代替フロー**:
  - SNS認証失敗時はメールアドレス登録にフォールバック
- **事後条件**: パーソナライズされたダッシュボードが表示される

#### UC1.2: ユーザープロフィール管理
- **アクター**: 登録ユーザー
- **概要**: ユーザーが自分のプロフィール情報を編集・更新する
- **前提条件**: ログイン済み
- **基本フロー**:
  1. ユーザープロフィールページにアクセス
  2. 個人情報、スキルレベル、学習目標を編集
  3. 学習の進捗状況を確認
  4. 獲得したバッジやスキル証明を管理
- **事後条件**: 更新情報がシステムに保存される

### 2. ロードマップ・コンテンツ

#### UC2.1: ロードマップの閲覧と選択
- **アクター**: 登録ユーザー
- **概要**: ユーザーが学習テーマのロードマップを閲覧し選択する
- **前提条件**: ログイン済み
- **基本フロー**:
  1. テーマカテゴリーから興味のある分野を選択
  2. ロードマップの概要と全体像を確認
  3. 必要な前提知識と到達目標を確認
  4. ロードマップを学習計画に追加
- **代替フロー**:
  - AI推奨のカスタマイズされたロードマップを選択
- **事後条件**: 選択したロードマップが学習計画に追加される

#### UC2.2: 学習コンテンツの消化
- **アクター**: 登録ユーザー
- **概要**: ユーザーがロードマップ内の特定ノードの学習を行う
- **前提条件**: ロードマップが選択済み
- **基本フロー**:
  1. ロードマップからノードを選択
  2. 説明コンテンツ（テキスト/動画）を視聴
  3. インタラクティブな演習に取り組む
  4. 小テストまたは課題を完了
  5. 進捗が記録され、次のステップが提案される
- **代替フロー**:
  - 理解が不十分な場合は補足コンテンツの提示
  - 特定ポイントでAIに質問
- **事後条件**: ノードの完了状態が更新され、次の推奨ノードが表示

#### UC2.3: 実践課題への取り組み
- **アクター**: 登録ユーザー
- **概要**: ユーザーが実践的な課題に取り組み、スキルを応用する
- **前提条件**: 対象課題の前提ノードを完了
- **基本フロー**:
  1. 課題の要件と目標を確認
  2. ブラウザ内コードエディタで実装
  3. 実行結果をリアルタイムで確認
  4. AIからのフィードバックを受領
  5. 修正と改善を繰り返す
- **代替フロー**:
  - ヒントや解決策の例を確認
  - 他ユーザーの解答例を参照（許可されている場合）
- **事後条件**: 課題完了とフィードバックが記録される

### 3. AIサポート

#### UC3.1: 学習中の質問とエラー解決
- **アクター**: 登録ユーザー
- **概要**: ユーザーが学習中に疑問点やエラーについてAIに質問する
- **前提条件**: 学習コンテンツを閲覧中
- **基本フロー**:
  1. コンテンツ閲覧中または演習中に質問入力
  2. AIがコンテキストを考慮して回答
  3. コードエラーの場合は解決方法を提案
  4. 必要に応じて追加の質問と回答
- **代替フロー**:
  - AIが不明な場合はコミュニティQ&Aを案内
- **事後条件**: 質問と回答の履歴が保存される

#### UC3.2: パーソナライズされた学習提案
- **アクター**: 登録ユーザー、AIシステム
- **概要**: AIが学習パターンに基づいて最適なコンテンツを提案
- **前提条件**: 一定量の学習履歴が存在
- **基本フロー**:
  1. システムがユーザーの学習データを分析
  2. 理解度が低い領域を特定
  3. 学習効率を高めるための時間配分を提案
  4. 強化すべきスキル領域を推奨
- **代替フロー**:
  - ユーザーが提案を却下し、別のパスを選択
- **事後条件**: パーソナライズされた提案がダッシュボードに表示

### 4. 進捗管理とモチベーション

#### UC4.1: 学習進捗の追跡
- **アクター**: 登録ユーザー
- **概要**: ユーザーが自身の学習進捗を確認・分析する
- **前提条件**: 学習活動の履歴が存在
- **基本フロー**:
  1. ダッシュボードで全体進捗を確認
  2. ロードマップ別の完了率を確認
  3. 時間経過に伴う学習量の統計を確認
  4. 強みと弱みの分析を閲覧
- **事後条件**: 最新の進捗情報が表示される

#### UC4.2: 目標設定と達成管理
- **アクター**: 登録ユーザー
- **概要**: ユーザーが学習目標を設定し、達成を追跡する
- **前提条件**: ログイン済み
- **基本フロー**:
  1. 短期・中期・長期の学習目標を設定
  2. 目標達成に必要なマイルストーンを確認
  3. 日々の学習計画を設定
  4. 目標達成度と残りのタスクを確認
- **代替フロー**:
  - 目標の修正と調整
- **事後条件**: 更新された目標が学習計画に反映される

#### UC4.3: ゲーミフィケーション要素の活用
- **アクター**: 登録ユーザー、システム
- **概要**: ユーザーが学習活動を通じて報酬や認定を獲得する
- **前提条件**: 学習活動の実施
- **基本フロー**:
  1. 学習活動の完了でポイント獲得
  2. 連続学習日数（ストリーク）の維持
  3. チャレンジタスクの完了でバッジ獲得
  4. スキルレベルの段階的な昇格
- **事後条件**: 獲得した報酬がプロフィールに反映される

### 5. コミュニティとコラボレーション

#### UC5.1: 学習グループへの参加
- **アクター**: 登録ユーザー
- **概要**: ユーザーが同じ目標を持つ学習者グループに参加する
- **前提条件**: ログイン済み
- **基本フロー**:
  1. 関心テーマのグループを検索
  2. グループ活動と目標を確認
  3. 参加リクエストを送信または直接参加
  4. グループディスカッションと共有資料にアクセス
- **事後条件**: グループメンバーシップの獲得

#### UC5.2: 学習成果の共有とフィードバック
- **アクター**: 登録ユーザー
- **概要**: ユーザーが自身の学習成果を共有し、フィードバックを得る
- **前提条件**: 共有可能な学習成果物の作成
- **基本フロー**:
  1. 成果物（コード、プロジェクト）をポートフォリオに追加
  2. 共有設定とコンテキスト情報を設定
  3. コミュニティまたは特定グループに公開
  4. コメントやレビューを受領
- **事後条件**: 共有された成果物がポートフォリオに表示される

## 非機能要件

### 1. パフォーマンス要件

#### NFR1.1: レスポンス時間
- ページロード初回: 1.0秒以内
- ページ遷移: 0.3秒以内
- AIレスポンス: 通常質問2秒以内、複雑な質問5秒以内
- インタラクティブコードの実行: 3秒以内

#### NFR1.2: 同時接続対応
- 通常時: 5,000ユーザー同時接続
- ピーク時: 15,000ユーザー同時接続
- 劣化なしでの毎分トランザクション: 10,000

#### NFR1.3: スケーラビリティ
- ユーザー数の50%増加に対応可能なアーキテクチャ
- コンテンツ量の100%増加に耐えうるストレージ設計
- ピークトラフィックに応じた自動スケーリング

### 2. セキュリティ要件

#### NFR2.1: 認証とアクセス制御
- 多要素認証のサポート
- セッション管理とタイムアウト（30分非アクティブ）
- ロールベースのアクセス制御
- OAuth 2.0によるソーシャル認証

#### NFR2.2: データ保護
- 保存データの暗号化（AES-256）
- 転送中データのTLS 1.3暗号化
- 個人識別情報（PII）の匿名化
- データアクセスの監査ログ

#### NFR2.3: コード実行環境のセキュリティ
- サンドボックス化された実行環境
- リソース使用制限（CPU、メモリ、実行時間）
- 悪意のあるコード検出と防止
- ユーザー間のデータ分離

### 3. 可用性と信頼性

#### NFR3.1: 稼働時間
- 年間稼働率: 99.9%以上（計画メンテナンス除く）
- 計画メンテナンス: 毎月4時間以内、事前告知あり
- 障害からの復旧目標時間（RTO）: 重大障害4時間以内

#### NFR3.2: データバックアップと復旧
- 日次完全バックアップ、時間単位の増分バックアップ
- 復旧ポイント目標（RPO）: 1時間以内
- 災害復旧計画と定期テスト

### 4. 使いやすさとアクセシビリティ

#### NFR4.1: アクセシビリティ
- WCAG 2.1 AA準拠
- スクリーンリーダー対応
- キーボードナビゲーション
- 高コントラストモード

#### NFR4.2: 多言語対応
- インターフェース: 日本語、英語（初期段階）
- コンテンツ: 日本語（初期）、将来的に英語対応
- 地域別の日付、時間、数値形式対応

#### NFR4.3: デバイス対応
- レスポンシブデザイン（320px〜2560px）
- タッチインターフェース最適化
- オフライン機能の限定サポート
- 主要ブラウザ対応（Chrome、Firefox、Safari、Edge最新2バージョン）

## ユーザージャーニーマップ

### 新規ユーザー（田中雄一）のジャーニー：「フロントエンド開発者へのキャリアチェンジ」

1. **認知・発見段階**
   - **行動**: 技術ブログでMapStackの記事を発見
   - **感情**: 興味・期待
   - **タッチポイント**: ブログ記事、SNS広告
   - **ペインポイント**: 学習の始め方が分からない
   - **機会**: 体系的な学習パスの明確な提示

2. **登録・オンボーディング段階**
   - **行動**: サインアップ、スキル診断の完了
   - **感情**: 期待・少しの不安
   - **タッチポイント**: 登録フォーム、スキル診断
   - **ペインポイント**: 自己評価の難しさ
   - **機会**: 簡単なテストと明確なガイダンス提供

3. **初期学習段階**
   - **行動**: フロントエンドロードマップの閲覧、HTML/CSS基礎学習
   - **感情**: 意欲的・少し混乱
   - **タッチポイント**: ロードマップビュー、初級コンテンツ
   - **ペインポイント**: 情報量の多さに圧倒される
   - **機会**: 段階的な情報開示、初期成功体験の提供

4. **実践/問題解決段階**
   - **行動**: 小規模なコーディング課題に取り組む、エラーに遭遇
   - **感情**: 挫折・達成感の波
   - **タッチポイント**: コードエディタ、AIサポート
   - **ペインポイント**: エラー解決の難しさ
   - **機会**: 的確なAIサポート、段階的ヒント提供

5. **習慣形成段階**
   - **行動**: 定期的な学習セッション、進捗確認
   - **感情**: 成長の実感・モチベーション維持の難しさ
   - **タッチポイント**: 進捗ダッシュボード、通知
   - **ペインポイント**: 日常業務との両立
   - **機会**: マイクロラーニング、柔軟なスケジュール調整

6. **コミュニティ参加段階**
   - **行動**: 学習グループ参加、質問投稿
   - **感情**: 所属感・安心感
   - **タッチポイント**: ディスカッションフォーラム、グループページ
   - **ペインポイント**: 初めての投稿への躊躇
   - **機会**: 歓迎的な雰囲気作り、初心者質問セクション

7. **スキル応用/成果段階**
   - **行動**: ポートフォリオプロジェクト作成、フィードバック受領
   - **感情**: 自信・達成感
   - **タッチポイント**: プロジェクトワークスペース、レビュー機能
   - **ペインポイント**: 実際の案件レベルとのギャップ
   - **機会**: 実践的な課題、企業事例の提供

8. **目標達成/継続段階**
   - **行動**: 転職活動開始、新しい学習目標設定
   - **感情**: 充実感・新たな意欲
   - **タッチポイント**: 証明書発行、キャリアガイダンス
   - **ペインポイント**: 次の目標設定の難しさ
   - **機会**: キャリアパス提案、アドバンスドコース案内

### 既存ユーザー（鈴木真理）のジャーニー：「エンジニアリングスキルの向上」

1. **目標設定段階**
   - **行動**: 現在のスキルセットを評価、目標設定
   - **感情**: 向上心・集中
   - **タッチポイント**: スキル評価ツール、ゴール設定機能
   - **ペインポイント**: 的確な目標レベルの設定
   - **機会**: 業界基準との比較、ロールモデル提示

2. **高度学習段階**
   - **行動**: アーキテクチャ設計、デザインパターン学習
   - **感情**: 知的好奇心・時に困惑
   - **タッチポイント**: 高度コンテンツ、図解資料
   - **ペインポイント**: 抽象概念の理解と実装への落とし込み
   - **機会**: インタラクティブな図解、実例を通じた解説

3. **実践応用段階**
   - **行動**: 大規模プロジェクト課題への取り組み
   - **感情**: 挑戦意欲・時に不安
   - **タッチポイント**: プロジェクト課題、リファクタリングツール
   - **ペインポイント**: 複雑な要件の理解と実装
   - **機会**: 段階的な要件提示、メンターからのアドバイス

4. **マスタリーと共有段階**
   - **行動**: 特定領域の専門性獲得、知識共有
   - **感情**: 自信・達成感・貢献意欲
   - **タッチポイント**: 専門認定、コミュニティ貢献
   - **ペインポイント**: 知識共有の方法
   - **機会**: メンターシップ機会、コンテンツ共同作成

## ユーザー体験（UX）目標

### 1. 明確性と理解しやすさ
- 複雑な概念も段階的に理解できる構成
- 技術用語の適切な説明と文脈提供
- 視覚的な説明と実例の充実
- 学習パスと期待成果の明確な提示

### 2. 達成感と進捗認識
- 小さな成功体験の積み重ね
- 明確な進捗視覚化
- スキル習得の実感を促す評価
- 適切なタイミングでの肯定的フィードバック

### 3. パーソナライズと関連性
- ユーザーの目標に合わせたコンテンツ提案
- 学習スタイルに応じた内容提示方法
- 業界/職種関連の実践的文脈
- 個人の弱点に焦点を当てた補足学習

### 4. 効率性と時間価値
- 短時間で価値を得られるマイクロラーニング
- 重複のない最適な学習パス
- 実用的スキルへの直接的連携
- 学習の継続と中断の柔軟なサポート

### 5. 支援とガイダンス
- 行き詰まりを検知した先制的サポート
- 明確で実用的なエラーガイダンス
- 質問の意図を理解した的確な回答
- 学習スタイルに合わせた支援方法の調整

### 6. コミュニティと所属感
- 同じ目標を持つ学習者とのつながり
- 安全で建設的なフィードバック環境
- 貢献と成長を促すコミュニティ構造
- 個人の進捗と集団の一員としての両立

### 7. シームレスと一貫性
- デバイス間での学習継続性
- UI/UXの一貫したパターンと予測可能性
- 学習とテスト/実践の自然な流れ
- 理論と実装の橋渡し

---

*本要件定義書は継続的な改善プロセスの一部として、ユーザーフィードバックと実装経験に基づき定期的に更新されます。*
